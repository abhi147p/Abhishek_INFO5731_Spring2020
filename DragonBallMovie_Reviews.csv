{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "view-in-github",
        "colab_type": "text"
      },
      "source": [
        "<a href=\"https://colab.research.google.com/github/abhi147p/Abhishek_INFO5731_Spring2023/blob/main/DragonBallMovie_Reviews.csv\" target=\"_parent\"><img src=\"https://colab.research.google.com/assets/colab-badge.svg\" alt=\"Open In Colab\"/></a>"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "USSdXHuqnwv9"
      },
      "source": [
        "# **INFO5731 Assignment Two**\n",
        "\n",
        "In this assignment, you will try to gather text data from open data source via web scraping or API. After that you need to clean the text data and syntactic analysis of the data."
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "YWxodXh5n4xF"
      },
      "source": [
        "# **Question 1**"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "TenBkDJ5n95k"
      },
      "source": [
        "(40 points). Write a python program to collect text data from **either of the following sources** and save the data into a **csv file**:\n",
        "\n",
        "(1) Collect all the customer reviews of a product (you can choose any porduct) on amazon.\n",
        "\n",
        "(2) Collect the top 10000 User Reviews of a film recently in 2023 or 2022 (you can choose any film) from IMDB.\n",
        "\n",
        "(3) Collect all the reviews of the top 1000 most popular software from [G2](https://www.g2.com/) or [Capterra](https://www.capterra.com/)\n",
        "\n",
        "(4) Collect the abstracts of the top 10000 research papers by using the query \"machine learning\", \"data science\", \"artifical intelligence\", or \"information extraction\" from [Semantic Scholar](https://www.semanticscholar.org).\n",
        "\n",
        "(5) Collect all the information of the 904 narrators in the [Densho Digital Repository](https://ddr.densho.org/narrators/).\n",
        "\n",
        "(6) Collect the top 10000 tweets by using a hashtag (you can use any hashtag) from Twitter. \n"
      ]
    },
    {
      "cell_type": "code",
      "execution_count": 119,
      "metadata": {
        "id": "PuFPKhC0m1fd",
        "colab": {
          "base_uri": "https://localhost:8080/"
        },
        "outputId": "6283e0ea-197a-4aa5-dd04-c51fcaae2970"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stdout",
          "text": [
            "https://www.imdb.com/title/tt14614892/reviews?ref_=tturv_ql_10000\n",
            "25\n",
            "If you enjoy reading my Spoiler-Free thoughts, please follow my blog to read my full review :)\"Dragon Ball Super: Super Hero offers what most fans of the saga come looking for: energetic action, new transformations, and the classic Akira Toriyama humor that works brilliantly in this film.The risk and courage in creating a narrative focused on Gohan, Piccolo, and Pan turn out to be successful due to the more intimate context, but it's still quite far from the epic levels and supreme satisfaction of the last movie.Exaggerated fan service leads to unjustified, absurd new forms. The pacing and balance of the different storylines and relationships lack better control. The fight sequences have good moments, but some abrupt cuts take away some of the dazzle. And finally, 3D animation proves to be a massive decline in almost every aspect compared to the ideal mix used in recent content.It's a pleasant, light, fun adventure but sadly unfulfilling.\"Rating: B-\n",
            "Finally a new Dragon Ball movie! The world is waiting for new movies and more Dragon Ball Super episodes for years, seriously!This movie is cool, the 3D choice is ok, but Cell Max just screaming all the time is ridiculous, he is sadly a big fail ...Character development is nice! Delightful to see Son Gohan finally backAnimation looks good, despite the camera spinning around too muchBut this final boss needs improvement, such a waste of potential. Cell is supposed to be elegant, clever, to absorb other characters to become stronger, not just a stupid animal screaming all the time, what went wrong with this??Looking forward more episodes and movies asap.\n",
            "Giving the fact that you gave more screen time for the Red Ribbon organization just amazes me. Especially for Piccolo and Gohan.I never actually thought that this movie will have a plot and connections to the original tv series. Normally Dragon ball will have comedy and unnecessary subplots.I love the fact that this movie was engaging and the flow was spot on. The fights and manipulation were great in this movie. Seeing Gohan fight was extraordinary well done.The only flaw was Bulma and her usefulness on the Dragon ball felt slightly annoying. However, the fight with Vegeta and Goku, in hand to hand combat made me feel very happy indeed.I was surprised that I saw this movie. I am glad I watched it again.\n",
            "GrandmaI wasn't expecting anything, but I loved it.The CGI is something that still doesn't quite convince me, but I think they didn't do it badly. There were scenes with too good visual art, and some amazing battle choreographies and explosions.I liked the story, but everything felt too short, I would have liked to see more and I feel that the best thing was that the main characters were Gohan and Piccoro to give a refreshing touch to the Dragon Ball story in general. The comedy, as always, is very good, the serious moments feel so good, for example the final part.Being honest, I hope they don't use CGI again, I prefer 2D, but I loved the movie enough to watch it more than once.\n",
            "Solid film . Great action , likeable characters, and awesome moments . People will always find ways to pick apart anything dragonball related but if you go into this with an open mind and to simply just watch some new dragonball content you'll be extremely satisfied . The new animation is fantastic during fight scenes and the characters hold very true to the anime. You'll see a ton of negative reviews complaining about the new style but after about 5 minutes in to the movie you'll hardly even realise it's CGI it stays that true to the 2D animation stuff. The humour worked well and the action scenes are up there with the best in the series (have no clue why people are complaining about this). I'll admit it's not as good as the Broly movie but is fantastic in its own right . Go Piccolo and Gohan, 2 neglected characters who really show off what they are capable of.\n",
            "If you had told me that Dragon Ball Super: Super Hero would be a good Dragon Ball film, I would have told you that you were spouting nonsense. This film's trailers were not promising at all: the full CG animation, another attempt to bring back the Red Ribbon, and what looks to be a cash-grab given how successful anime films have been recently (e.g. Demon Slayer Mugen Train and Jujutsu Kaisen 0). I was worried about this film and the fate of the upcoming Slam Dunk film. And I am so glad this movie proved me wrong.First and foremost, the animation. Although I liked Dragon Ball Super Broly, I was not the biggest fan of the video-game-like animation in some of the fight scenes in that film. However, Super Hero's CG animation was not distracting at all to me. Sure, it may have taken a couple of minutes to get used to it, but for the most part, I'd say Toei had done a pretty decent job. And if you have seen other CG animes like Beastars or Land of the Lustrous, then this film would not be anything novel to you. But, I'd still like to see a hand-drawn film should Toei decide to make a sequel. 2D animation just hits different.Regarding the story, it was a pretty basic 3-act structure. But then again, no one should walk into a Dragon Ball film expecting any major plot twists or shocking revelations. There are certain nitpicks regarding Piccolo's plan in the second act or how the Red Ribbon is still a powerful organization despite the fact that it's been confirmed to be mostly gone after Goku's heroics in the OG series. You will find it quite enjoyable you don't think too hard about it.The fight scenes were quite solid this time around. The choreography, the lighting, and camera movements were all on point. Honestly, I got chills quite a few times during the third act (or it could just be the AC in the theaters).And lastly, the characters. If you are here expecting some Goku and Vegeta action, you may be disappointed because they were barely in the film. But I, on the other hand, loved it. It's so refreshing to see Gohan and Piccolo get the spotlight again, and the movie sure gave them the much- needed return after being reduced to mostly background characters in the Dragon Ball Super manga. The Androids looked silly in the posters, but fortunately, they were really fun to watch (they almost made me cry towards the end as well). And Pan, what a cutie! She's easily the cutest kid character in Dragon Ball since young Goku himself. More of her, please. Thanks to this film, I hope the next one will turn the attention to the likes of Yamcha and Tienshinhan (especially Yamcha) as well.All in all, if you are a Dragon Ball fan, I think you will have a good time with this film (if you can tolerate the CG animation or don't overthink the plot).P/S: There's an after-credit scene, so stay till the end!\n",
            "The CGI animation is definitely going to be a turnoff for most who liked the far more polished look of the Broly film.Assuming that is not a problem be prepared for a very long and overall dull buildup. There's a lot of talking in the first half of the movie since the bad guys keep flashing back to previous events and plotting their next move.Once that is over they finally create two androids that magically match in power Gohan and Piccolo. Don't ask why, it was already a stretch to have androids with more power than Super Saiyan back in the Android Saga. The Red Ribbon can simply collect data and create androids that are as powerful as the current heroes with no cap. Go figure.The fight between the heroes and the new androids is tensionless since nothing feels like it's at stake. The world doesn't look like it's in danger and even Pan fools around when she gets kidnapped just for motivating her daddy to try harder. The final boss ends up being a buffed up Cell. Don't get too excited, because he's in his second form and completely mindless compared to his predecessor. The battle is eventually won with the heroes getting new transformations (Piccolo turns yellow because of his age and the dragon, Gohan gets longer silver hair for protecting a daughter that was never in any real danger). Then the villains turn allies because it's a show for kids.As for the power houses of the show, Goku and Vegeta spend the whole movie at Beerus' place, training along with Broly. And don't expect something to come out of all that, they are not doing much and they conveniently never find out about what happens on Earth.The movie as a whole looks like it was made to match the Dokan gatcha game. Its gamers will appreciate it far more than plain watchers. The plot is nothing to bother thinking about, the new power ups are lazy, and there's not much to get from it besides an excuse for more units in the gatcha. An overall bellow average movie in a franchise that is way beyond its prime and runs purely on milking nostalgia.\n",
            "Solid film, reasonable plot, Sama characters as always.Only one area I didn't like, the CG art style.Nothing more than a personal preference.Other than that just another good Dragon Ball film.\n",
            "The movie serves us Dragon Ball fans just right with a proper slice of life mix with action packed fights. Walking out of this movie you'll be completely satisfied with not only the plot and fight scenes but also the animation which everyone were quite skeptical about at first.\n",
            "First, the story is well balance and don't give less that a good history of DB show in the other movies (cannons).Second, the way that the animation in my opinion, was a 100% compatible with the scenes of action.Third, Toriyama made justice with Gohan... and place him at level of Vegita and Son Goku, yes I'm a fan of Gohan and wait already 30 years to see him in this level... cof cof cof.Four, if is a movie, all effects of sounds always are better in the theatre, and you enjoy it, it's true and this is the reasons why I go to see movies in theatre, and this movie of DB has a good effects.Fifth, I'm and fan of DB manga!!!\n",
            "I gotta say, after watching the English Dub with my big brother and my uncle last night, I have got to say... It was the best anime film I have ever seen in my entire life. I mean, look at the nostalgic, flawless. Terrific scenes and animations, and how hard Toei Animation has made them. They're magnificent. It gives out the greatest vibes especially for Gohan getting his time to shine in the film. It's good to have the Shoop Da Whoop guy back, and perfect heartwarming and funny moments, too. I'm sure this anime film is going to be the best box office hit for sure. Ready for the next Dragon Ball Super film! :)\n",
            "Dragon ball never disappoints and Super Superhero was no exception. From start to end it was spectacular. The fight scenes were unlike anything I have ever seen maybe except Super Broly. This is a movie you need to see either on an IMAX Screen or a PLF Screen. I saw it on the PLF Screen at the theater that I work at and I was speechless. Fantastic movie for the fans and I bet new fans will be made because of this movie.Parents go see it take your kids take the family yes it's PG-13, but it's great11/10.\n",
            "Surprisingly heart felt story. Gohan, and Piccolo being the main focus of this flick was a great choice, as their dynamic has been lacking for awhile now up until this point. Super throwback to the first season of DBZ. Gohan finally confronts his lack of training, and we get to witness him actually take charge, as he sets out on his mission alone. The 3D animation is a welcomed addition to this franchise. The ending was somewhat abrupt, but tied up nicely with the post credit scene. I understand wanting to give other characters shine besides Goku/Vegeta, however I think they could've utilized them more efficiently within this story. Overall this is a perfect addition to this franchise, and we get oh so closer to the End of Z time period. Seeing teenage Trunks/Goten was the cherry on top for me.\n",
            "I'm fully aware this movie gets a lot of hate, though I can't understand why, it's within their right to have such feeling. Personally, I enjoy watching it. 2D animation will always be a better alternative but this 3D graphics isn't bad either, I have a good time watching the full action scenes which almost doesn't give us any room to breath, the choreography is excellent too. Story-wise nothing special about it, the ending's kinda cliche too, well I mean, Dragon Ball cliche, it wouldn't be a Dragon Ball movie without such ending. The villains somehow are a little bit underwhelming, without so much of a character development, but it's nice to see both Piccolo and Gohan get the spotlight sometimes, so not so bad at all, but not great either.8/10.\n",
            "So to begin with because IMdB seems to be funky as all heck (see not a swear word) I have to preface that even when I put spoilers on I have to say \"there will be spoilers here.\"So let's go into it.The latest movie outing for Dragon Ball has a lot going for it, from killer visuals to a decent score, the problem is as is evident from my 5 star that this is a rather badly done story.We begin with a hitherto unknown grandson of Dr Gero who is just as smart and just as skilled with robotics as he was, who stole corpses and reanimated them to work at a convenience store and was arrested and put in prison for 3 months. He's hired by the son of Commander Red (called Magenta) to build new androids to \"help save the world from the evil Capsule Corp and their alien menace\"\n",
            "this is part good and part bad, the good is the manipulation of events seen from the outside as it would look fishy how aliens are around capsule corp and they're the biggest richest and best company in the world.The bad is the need to make connections to prior characters, rather than have the Doctor Hedo be related to Gero, have him be a survivor of East City and have him be obsessed with defeating aliens and villains that way while having his benefactor be a rival for Capsule Corp that we just don't know about who see's an opportunity to control a gullible fool.The base plot is that though, the misunderstanding of Hedo to create cyborgs for the restarted Red Ribbon Army, we get transformations from Gohan and Piccolo including the always demanded Gohan Blanco and now the new \"Orange Piccolo\" for some reason. Goten and Trunks are teenagers now and Goku and Vegeta are off on Beerus Planet fighting (Vegete wins).It culminates in a Form 2 remade Cell going berserk and trying to destroy the world with no gravitas or point, he's just there because Cell is Gohans biggest enemy and we need to keep branding.This isn't a good outing - at all.And I wondered why they did the CGI fest for this, with 3D models rather than drawn characters, well I know now and its purely for the spectacle, there's things done easier in 3D than in hand drawn here that \"look\" good aesthetically but are just the air in the sugared popcorn, it's not got any meaning to it than to go \"wow\" to.And I'd rather have my animated films be less empty \"wow\" and more detailed artistry. It didn't take as much effort to make this as it would have otherwise.So no, not a good one in my book, a fail for Toei and a continuing black eye for the Dragon Ball franchiseNow let's check and see if I've insulted a person or said a swear word and nope...not at all, so it should be allowed, right? Right? RIOGHT?!!!?!?!!\n",
            "This film was just a disappointment. Let's start with the artwork; I'm not going to bash the overall art style, when you start watching you just get used to it so it's not that bad, but some of the design choices are just awful. Cell looks like a Christmas decoration, Gohan's new powerup design is lame, and Piccolo.. he just makes me want to throw up it's so bad. Story wise, it's not great imo. I never liked the Gohan superhero arc in dbz so I can easily say I was biased from the start, but I just didn't enjoy it.Overall: this coming after dbs Broly is a huge letdown. I really hope this was a one-off and the next dbs season doesn't follow in BotG's footsteps by continuing this in the anime.\n",
            "I love all the serious reviews haha, this movie is great and just a fun ride throughout. I like the focus on Gohan and Piccolo and the epic ending. Some nice call backs and new surprises. I found the CG very tastefully done.\n",
            "Goathan. I love how they focused on gohan and piccolo. Was such a good movie and would highly recommend watching it. Seeing gohan win again should bring joy to all the people who watched this movie.\n",
            "Pros:\n",
            "Piccolo and Gohan are finally given the spotlight again, maybe one last timeBoth receive new powerups, but appear to be a one-time thingLots and lots of fanservice everywhere, especially with Gohan using Special Beam Cannon to eliminate bootleg CellAlthough full CGI, it's wasn't that noticeable and the animation was incredibly smoothCons:\n",
            "No real stakes for obvious reasons, since Goku and Vegeta could one shot the new villainThe final villain is bootleg Cell in his second form and is mindless. Felt like something out of Dragon Ball Heroes videogameOverall, good way to just pass the time. I don't think Piccolo or Gohan will ever again have the spotlight, but it was nice to see them do something.\n",
            "They nailed it. At first I thought the whole CGI thing would be a bad idea. But I was wrong they tried a new thing and it worked totally.It have nice fight scenes. Easter eggs/ comedy . And bringing broly was a good idea.\n",
            "I had fun. Build up and payout was nice, animation smooth. One of the best, if not the best Dragon Ball movie to date. Was refreshing to see it focused on someone else than usual absurd beefcakes.\n",
            "Out of the three Dragon Ball movies to come out of the modern era, this is by far the weakest. We have gone from the spectacular animation of DBS Broly to a CGI focused, frankly janky take on Dragon Ball.So many movements just feel awkward and the classic impact from hits is completely gone. Any OG Dragon Ball fan will be disappointed when they compare it with any of the classic scenes and find the weight within combat sorely lacking.Though it must be said , the CGI IS INDEED SUPERIOR to the CGI we saw in previous movies, but it does not even touch the 2D animation peak of DBS Broly. That is not a fault of the technology, plenty of movies like the Kung Fu Panda trilogy and Spiderman have shown us amazing 3D combat in a complex manner.The story is also just a recycled clone of older Dragon Ball arcs with copy cat moments in every step of the way, completely giving away the plot to any fan of the show and progressing in a sad manner with uninspired transformation with 0 creativity. THE BEST part of the movie is simply the growth of Trunks and Goten in terms of design and that is it.I will not be buying this movie in physical form, 1 showing at the Cinema was enough torture for me.\n",
            "After seeing stills and some of the teasers, I was sure I was going to be disappointed by many things in the film (especially the animation style).I was pleasantly surprised by how beautiful and well-crafted everything looked. The fight scenes were clear and you could follow everything that was happening which is something you don't normally see in the Dragon Ball franchise. The film made me laugh me throughout and not just because of the call backs or fan service. It was genuinely funny. The music elevated the scenes instead of just having some \"hype\" tracks randomly play. It felt like I was just watching a fun action comedy film.I think this really may be the best Dragon Ball movie for me. I'm looking forward to the future of the franchise.\n",
            "I mean, I just don't know where to start. I think the saddest part is that I no longer can trust the youTubers like Geekdom to give honest reviews about Dragonball anymore. It's clear they have to review favorably or they'll lose their access.The story is just abysmal, flat out abysmal. How do we not just have fans writing and producing these movies? With this budget they would make an actual Dragonball movie and not something that would come on PBS in the mornings.I apologize, I'm just so disappointed, they just proved that there is NO WAY Dragonball can move forward without Goku and Vegeta. The 5 minutes they were in this movie were the most entertaining of the film. I hope we can get back to the level of Dragonball Super: Broly or else getting another anime adaptation is going to be hard.\n",
            "The previous Dragon Ball Super movie, Broly, was enjoyable with amazing animation, but I thought it was missing something in terms of story. Ultimately, I came out of it thinking I may have grown out of Dragon Ball a bit.This movie, which I wasn't expecting much from, proved that thought wrong. It was hilarious, heartfelt, interesting, and filled with fan service.Dragon Ball was getting really stale due to it just being Goku and Vegeta continuously getting stronger while everyone else was left in the background. However, this movie is basically an action-comedy about Piccolo figuring out how to protect Earth without those two around. After nearly the entirety of Super being focused on them, this was a huge surprise.Piccolo going undercover as he tries to get Gohan to unleash his potential again is so much fun to watch. This premise also allows the movie to be a redemption story for Gohan, giving both him and Piccolo new power boosts that most likely put them back on a comparable scale with Goku and Vegeta for future stories.Gohan is super sick here. He has had multiple arcs where he regains his strength, but here he realizes that even though his father is alive nowadays, he still won't always be there to protect Earth. As long as the cycle of Gohan lacking on his training doesn't repeat yet again, I'm really pleased with this arc.Of course, what makes the story possible is the villains who are a pretty cool concept. The Androids are my favorite villains in all of Dragon Ball, so more of the Red Ribbon Army is great. Their secret base was cool and their viewing of the Z-Warriors as evil alien invaders was very entertaining.I thought Dr. Hedo was silly, but Gamma 1 & 2 were way cooler than I thought they would be. Their superhero gags were hilarious.Admittedly I didn't care for Cell Max. He felt like Cell version of Bio Broly which isn't ideal at all. However, he fulfills his purpose in this story. While it may have been less creative and switched the focus, I would've liked to have seen the return of the original Cell.Another thing I love about this movie is that on top of Gohan and Piccolo being the protagonists for once, we actually get a large cast here. This is a big improvement over most of Super.Seeing 18 fighting (though I wish we got more about her reaction to the return of the Red Ribbon Army) was awesome. So was seeing grown-up Goten and Trunks. Pan was super cute and likable. We, of course, also still get to catch up with Goku and co. On Beerus' planet, which was a fun side plot that excited me for what's to come for these characters.There were still some oddly omitted characters like Tien and especially 17. Plus, I'm so sick of Buu falling asleep every single story, but you can't make the cast of a single movie too bloated I guess.Anyway, everyone gets their time to shine in fights, and there are some super unique moves and camera angles. This is due to the pseudo-3D animation giving them a lot of liberty to allow for cool effects and visual depth. However, at times it borderline looks pixelated and like a video game. Still, I wouldn't hold the animation style against the movie too much. It's passable and at some points, I understand why they chose the look.Overall, this is definitely the best Dragon Ball Super movie and one of my favorite Dragon Ball movies ever. An amazing time for any fan!\n"
          ]
        }
      ],
      "source": [
        "# Write your code here\n",
        "\n",
        "import requests\n",
        "from bs4 import BeautifulSoup\n",
        "import re\n",
        "import time\n",
        "import pandas as pd\n",
        "\n",
        "def get_soup(url):\n",
        "    \"\"\"\n",
        "        params1: url (contains the url of google scholar page)\n",
        "        return: soup (fetching the url page data and then further converted to html parser)\n",
        "    \"\"\"\n",
        "  # headers = {'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36'}\n",
        "    headers = {'user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 Safari/537.36'}\n",
        "    try:\n",
        "        # requesting for data using requests with url and headers for authentication\n",
        "        data = requests.get(url)\n",
        "        # print(f\"Extracted the data with response as {data.status_code}\")\n",
        "        if data.status_code != 200:\n",
        "            raise Exception(\"Failed to fetch data\")\n",
        "    except Exception as ex:\n",
        "        print(f\"Exception occurred as {data.text} with status_code {data.status_code}\")\n",
        "        return None\n",
        "    soup = BeautifulSoup(data.text, \"html.parser\")\n",
        "    return soup\n",
        "\n",
        "\n",
        "final_reviews = []\n",
        "\n",
        "# url = f\"https://www.amazon.com/BENYAR-Classic-Fashion-Chronograph-Brown-Black/product-reviews/B07L2VYKQ7/ref=cm_cr_dp_d_show_all_btm_next_{i}?ie=UTF8&reviewerType=all_reviews\"\n",
        "url = \"https://www.imdb.com/title/tt14614892/reviews?ref_=tturv_ql_10000\"\n",
        "print(url)\n",
        "try:\n",
        "  soup = get_soup(url)\n",
        "  # print(soup.prettify())\n",
        "  # reviews_list = soup.findAll(\"div\", attrs={\"class\": \"lister-item mode-detail imdb-user-review  collapsable\"})\n",
        "  # print(reviews_list[0].prettify())\n",
        "  # imdb_reviews = [data.find(\"div\", attrs={\"class\": \"text show-more__control\"}).content for data in reviews_list]\n",
        "  imdb_reviews = [list_item for list_item in soup.find_all(\"div\", attrs={\"class\": \"review-container\"})]\n",
        "  final_reviews = [review.find(\"div\", attrs={\"class\": \"text show-more__control\"}).text for review in imdb_reviews]\n",
        "except Exception as ex:\n",
        "  print(ex)\n",
        "\n",
        "print(len(final_reviews))\n",
        "for x in final_reviews:\n",
        "  print(x)"
      ]
    },
    {
      "cell_type": "code",
      "source": [
        "import pandas as pd\n",
        "\n",
        "df = pd.DataFrame(final_reviews, columns=[\"Text\"])\n",
        "df.head()\n",
        "df.to_csv(\"DragonBallMovie_Reviews\")"
      ],
      "metadata": {
        "id": "JpyQ-bBsC1E2"
      },
      "execution_count": 120,
      "outputs": []
    },
    {
      "cell_type": "code",
      "source": [],
      "metadata": {
        "id": "hepOzvXDkU7G"
      },
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "AfpMRCrRwN6Z"
      },
      "source": [
        "# **Question 2**"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "1dCQEbDawWCw"
      },
      "source": [
        "(30 points). Write a python program to **clean the text data** you collected above and save the data in a new column in the csv file. The data cleaning steps include:\n",
        "\n",
        "(1) Remove noise, such as special characters and punctuations.\n",
        "\n",
        "(2) Remove numbers.\n",
        "\n",
        "(3) Remove stopwords by using the [stopwords list](https://gist.github.com/sebleier/554280).\n",
        "\n",
        "(4) Lowercase all texts\n",
        "\n",
        "(5) Stemming. \n",
        "\n",
        "(6) Lemmatization."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "colab": {
          "base_uri": "https://localhost:8080/",
          "height": 310
        },
        "id": "vATjQNTY8buA",
        "outputId": "749c0463-0df2-4029-f41c-4c3cae5de0d8"
      },
      "outputs": [
        {
          "output_type": "stream",
          "name": "stderr",
          "text": [
            "[nltk_data] Downloading package stopwords to /root/nltk_data...\n",
            "[nltk_data]   Package stopwords is already up-to-date!\n",
            "[nltk_data] Downloading package wordnet to /root/nltk_data...\n",
            "[nltk_data]   Package wordnet is already up-to-date!\n",
            "[nltk_data] Downloading package omw-1.4 to /root/nltk_data...\n",
            "[nltk_data]   Package omw-1.4 is already up-to-date!\n"
          ]
        },
        {
          "output_type": "execute_result",
          "data": {
            "text/plain": [
              "                                                Text  \\\n",
              "0  If you enjoy reading my Spoiler-Free thoughts,...   \n",
              "1  Finally a new Dragon Ball movie! The world is ...   \n",
              "2  Giving the fact that you gave more screen time...   \n",
              "3  GrandmaI wasn't expecting anything, but I love...   \n",
              "4  Solid film . Great action , likeable character...   \n",
              "\n",
              "                                       text_modified  \n",
              "0  if enjoy read spoilerfre thought pleas follow ...  \n",
              "1  final new dragon ball movi the world wait new ...  \n",
              "2  give fact gave screen time red ribbon organ am...  \n",
              "3  grandmai wasnt expect anyth i love itth cgi so...  \n",
              "4  solid film great action likeabl charact awesom...  "
            ],
            "text/html": [
              "\n",
              "  <div id=\"df-b75f08db-248c-4312-abdd-6c58c37f0c1a\">\n",
              "    <div class=\"colab-df-container\">\n",
              "      <div>\n",
              "<style scoped>\n",
              "    .dataframe tbody tr th:only-of-type {\n",
              "        vertical-align: middle;\n",
              "    }\n",
              "\n",
              "    .dataframe tbody tr th {\n",
              "        vertical-align: top;\n",
              "    }\n",
              "\n",
              "    .dataframe thead th {\n",
              "        text-align: right;\n",
              "    }\n",
              "</style>\n",
              "<table border=\"1\" class=\"dataframe\">\n",
              "  <thead>\n",
              "    <tr style=\"text-align: right;\">\n",
              "      <th></th>\n",
              "      <th>Text</th>\n",
              "      <th>text_modified</th>\n",
              "    </tr>\n",
              "  </thead>\n",
              "  <tbody>\n",
              "    <tr>\n",
              "      <th>0</th>\n",
              "      <td>If you enjoy reading my Spoiler-Free thoughts,...</td>\n",
              "      <td>if enjoy read spoilerfre thought pleas follow ...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>1</th>\n",
              "      <td>Finally a new Dragon Ball movie! The world is ...</td>\n",
              "      <td>final new dragon ball movi the world wait new ...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>2</th>\n",
              "      <td>Giving the fact that you gave more screen time...</td>\n",
              "      <td>give fact gave screen time red ribbon organ am...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>3</th>\n",
              "      <td>GrandmaI wasn't expecting anything, but I love...</td>\n",
              "      <td>grandmai wasnt expect anyth i love itth cgi so...</td>\n",
              "    </tr>\n",
              "    <tr>\n",
              "      <th>4</th>\n",
              "      <td>Solid film . Great action , likeable character...</td>\n",
              "      <td>solid film great action likeabl charact awesom...</td>\n",
              "    </tr>\n",
              "  </tbody>\n",
              "</table>\n",
              "</div>\n",
              "      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b75f08db-248c-4312-abdd-6c58c37f0c1a')\"\n",
              "              title=\"Convert this dataframe to an interactive table.\"\n",
              "              style=\"display:none;\">\n",
              "        \n",
              "  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n",
              "       width=\"24px\">\n",
              "    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n",
              "    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n",
              "  </svg>\n",
              "      </button>\n",
              "      \n",
              "  <style>\n",
              "    .colab-df-container {\n",
              "      display:flex;\n",
              "      flex-wrap:wrap;\n",
              "      gap: 12px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert {\n",
              "      background-color: #E8F0FE;\n",
              "      border: none;\n",
              "      border-radius: 50%;\n",
              "      cursor: pointer;\n",
              "      display: none;\n",
              "      fill: #1967D2;\n",
              "      height: 32px;\n",
              "      padding: 0 0 0 0;\n",
              "      width: 32px;\n",
              "    }\n",
              "\n",
              "    .colab-df-convert:hover {\n",
              "      background-color: #E2EBFA;\n",
              "      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n",
              "      fill: #174EA6;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert {\n",
              "      background-color: #3B4455;\n",
              "      fill: #D2E3FC;\n",
              "    }\n",
              "\n",
              "    [theme=dark] .colab-df-convert:hover {\n",
              "      background-color: #434B5C;\n",
              "      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n",
              "      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n",
              "      fill: #FFFFFF;\n",
              "    }\n",
              "  </style>\n",
              "\n",
              "      <script>\n",
              "        const buttonEl =\n",
              "          document.querySelector('#df-b75f08db-248c-4312-abdd-6c58c37f0c1a button.colab-df-convert');\n",
              "        buttonEl.style.display =\n",
              "          google.colab.kernel.accessAllowed ? 'block' : 'none';\n",
              "\n",
              "        async function convertToInteractive(key) {\n",
              "          const element = document.querySelector('#df-b75f08db-248c-4312-abdd-6c58c37f0c1a');\n",
              "          const dataTable =\n",
              "            await google.colab.kernel.invokeFunction('convertToInteractive',\n",
              "                                                     [key], {});\n",
              "          if (!dataTable) return;\n",
              "\n",
              "          const docLinkHtml = 'Like what you see? Visit the ' +\n",
              "            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n",
              "            + ' to learn more about interactive tables.';\n",
              "          element.innerHTML = '';\n",
              "          dataTable['output_type'] = 'display_data';\n",
              "          await google.colab.output.renderOutput(dataTable, element);\n",
              "          const docLink = document.createElement('div');\n",
              "          docLink.innerHTML = docLinkHtml;\n",
              "          element.appendChild(docLink);\n",
              "        }\n",
              "      </script>\n",
              "    </div>\n",
              "  </div>\n",
              "  "
            ]
          },
          "metadata": {},
          "execution_count": 97
        }
      ],
      "source": [
        "# Write your code here\n",
        "import nltk, re, string\n",
        "from nltk.corpus import stopwords\n",
        "from nltk.stem import PorterStemmer\n",
        "from textblob import Word\n",
        "nltk.download('stopwords')\n",
        "nltk.download(\"wordnet\")\n",
        "nltk.download('omw-1.4')\n",
        "\n",
        "def remove_puntutation_and_special_chars(s):\n",
        "  \"\"\"\n",
        "    params1: string containing sentence\n",
        "    return: string with no punctuations\n",
        "  \"\"\"\n",
        "  punctuation = \"\"\"!()-[]{};+|=-_~`:'\"\\,<>./?@#$%^&*_~\"\"\"\n",
        "  # s1 = s1.replace(punctuation, \"\")\n",
        "  return \"\".join([x for x in s if x not in string.punctuation])\n",
        "\n",
        "def remove_nums(s):\n",
        "  return re.sub(r'[0-9]', '', s)\n",
        "\n",
        "def remove_stopwords(s):\n",
        "  stop = stopwords.words(\"english\")\n",
        "  return \" \".join(x for x in s.split() if x not in stop)\n",
        "\n",
        "def lower_all(s):\n",
        "  return \" \".join(x.lower() for x in s.split())\n",
        "\n",
        "def stemming(s):\n",
        "  st = PorterStemmer()\n",
        "  return \" \".join([st.stem(word) for word in s.split()])\n",
        "\n",
        "def lemmatize(s):\n",
        "  return \" \".join([Word(word).lemmatize() for word in s.split()])\n",
        "\n"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "E5mmYIfN8eYV"
      },
      "source": [
        "# **Question 3**"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "hsi2y4z88ngX"
      },
      "source": [
        "(30 points). Write a python program to conduct **syntax and structure analysis** of the clean text you just saved above. The syntax and structure analysis includes: \n",
        "\n",
        "(1) Parts of Speech (POS) Tagging: Tag Parts of Speech of each word in the text, and calculate the total number of N(oun), V(erb), Adj(ective), Adv(erb), respectively.\n",
        "\n",
        "(2) Constituency Parsing and Dependency Parsing: print out the constituency parsing trees and dependency parsing trees of all the sentences. Using one sentence as an example to explain your understanding about the constituency parsing tree and dependency parsing tree.\n",
        "\n",
        "(3) Named Entity Recognition: Extract all the entities such as person names, organizations, locations, product names, and date from the clean texts, calculate the count of each entity."
      ]
    },
    {
      "cell_type": "code",
      "execution_count": null,
      "metadata": {
        "id": "QQKnPjPDHJHr"
      },
      "outputs": [],
      "source": [
        "# Write your code here\n",
        "\n",
        "\n",
        "\n",
        "\n"
      ]
    },
    {
      "cell_type": "markdown",
      "metadata": {
        "id": "xWOtvT2rHNWy"
      },
      "source": [
        "**Write your explanations of the constituency parsing tree and dependency parsing tree here (Question 3-2):** "
      ]
    }
  ],
  "metadata": {
    "colab": {
      "provenance": [],
      "include_colab_link": true
    },
    "kernelspec": {
      "display_name": "Python 3 (ipykernel)",
      "language": "python",
      "name": "python3"
    },
    "language_info": {
      "codemirror_mode": {
        "name": "ipython",
        "version": 3
      },
      "file_extension": ".py",
      "mimetype": "text/x-python",
      "name": "python",
      "nbconvert_exporter": "python",
      "pygments_lexer": "ipython3",
      "version": "3.9.12"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 0
}